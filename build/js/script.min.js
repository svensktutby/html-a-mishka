window.MISHKA={},function(){var e={close:function(){var n=document.querySelector(".burger");n&&n.addEventListener("click",function(e){e.preventDefault(),n.classList.contains("burger--close")?n.classList.remove("burger--close"):n.classList.add("burger--close")})}};MISHKA.burger=e}(),function(){var e={open:function(){var n=document.querySelector(".main-nav"),e=document.querySelector(".main-nav__toggle");n&&n.classList.contains("main-nav--nojs")&&n.classList.remove("main-nav--nojs"),e&&e.addEventListener("click",function(e){e.preventDefault(),n.classList.contains("main-nav--open")?n.classList.remove("main-nav--open"):n.classList.add("main-nav--open")}),MISHKA.burger.close()}};MISHKA.menu=e}(),function(){var e={showYmap:function(){var e=document.querySelector(".contacts__map");if(e){e.classList.contains("contacts__map--nojs")&&e.classList.remove("contacts__map--nojs"),ymaps.ready(function(){var e=new ymaps.Map("map",{center:[53.9,27.56667],zoom:12,controls:["smallMapDefaultSet"]}),n=new ymaps.Placemark([53.9,27.56667],{hintContent:"Center of Miensk",balloonContent:"Красноармейская улица, 6"},{iconLayout:"default#image",iconImageHref:"./img/icon-map-pin.svg",iconImageSize:[66,100],iconImageOffset:[-20,-60]});e.geoObjects.add(n),e.behaviors.disable(["scrollZoom"])})}}};MISHKA.ymap=e}(),function(){var e={isEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},isNumber:function(e){return/^\+?[\d -]+$/.test(e)},isNotEmpty:function(e){return Boolean(e)}};MISHKA.validation=e}(),function(){var a={isValid:function(){var e=document.querySelectorAll('[data-valid="required"]'),n=document.querySelector("[data-email]"),o=document.querySelector("[data-phone]"),t=n.value,r=o.value;return a.isAllCompleted(e)?MISHKA.validation.isEmail(t)?!!MISHKA.validation.isNumber(r)||(o.classList.add("order-form__input--error"),console.log("Не верный номер"),!1):(n.classList.add("order-form__input--error"),console.log("Не верный email"),!1):(console.log("Заполните, пожалуйста, все необходимые поля"),!1)},isAllCompleted:function(e){for(var n=!0,o=0;o<e.length;o++)MISHKA.validation.isNotEmpty(e[o].value)||(e[o].classList.add("order-form__input--error"),n=!1);return n}};MISHKA.form=a}(),function(){var n={},o=document.querySelector(".modal-overlay"),t=null;function r(e){e.preventDefault(),n.close(),t.removeEventListener("click",r),o.removeEventListener("click",r)}function a(e){"Escape"!==e.key&&27!==e.keyCode||(n.close(),window.removeEventListener("keydown",a))}function e(e){e.target===o?n.close():e.stopPropagation()}n.open=function(){o.classList.contains("modal-overlay--hidden")&&o.classList.remove("modal-overlay--hidden"),(t=document.querySelector(".modal-cart__button")).addEventListener("click",r),o.addEventListener("click",e),window.addEventListener("keydown",a)},n.close=function(){o.classList.contains("modal-overlay--hidden")||o.classList.add("modal-overlay--hidden"),o.removeEventListener("click",e),window.removeEventListener("keydown",a)},MISHKA.modalCart=n}(),function(){var e=document.querySelector(".week-product__order-button"),n=document.querySelectorAll(".product__order-button"),o=document.querySelector(".order-form"),t=document.querySelectorAll('[data-valid="required"]'),r=Array.prototype.slice.call(n);if(r.push(e),function(e){for(var n=0;n<e.length;n++)e[n]&&e[n].addEventListener("click",function(){event.preventDefault(),MISHKA.modalCart.open()})}(r),o&&o.addEventListener("submit",function(e){e.preventDefault(),MISHKA.form.isValid()?console.log("All good"):console.log("Is not valid")}),t)for(var a=0;a<t.length;a++)t[a].addEventListener("focus",function(){this.classList.contains("order-form__input--error")&&this.classList.remove("order-form__input--error")});MISHKA.menu.open(),MISHKA.ymap.showYmap()}();